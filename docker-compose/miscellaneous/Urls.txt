http://localhost:8071/eurekaserver/default

http://localhost:8081/h2-console

http://localhost:8070/

http://localhost:8072/actuator

mvn compile jib:dockerBuild


docker compose up -d

docker compose down

docker system prune -a --volumes


--------------------------------------------------------------------------------------------------------------

http://localhost:5601/app/home#/

GET flights_index/_search
{
  "query": {
    "match_all": {}
  }
}

curl -XGET "http://elasticsearch:9200/flights_index/_search" -H 'Content-Type: application/json' -d'
{
  "query": {
    "match_all": {}
  }
}'

--------------------------------------------------------------------------------------------------------------

To create an image using google jib

mvn compile jib:dockerBuild

if you face this [ERROR] Failed to execute goal com.google.cloud.tools:jib-maven-plugin:3.3.2:dockerBuild (default-cli) on project configserver: Build to Docker daemon failed, perhaps you should make sure your credenti
                 als for 'registry-1.docker.io/library/eclipse-temurin' are set up correctly. See https://github.com/GoogleContainerTools/jib/blob/master/docs/faq.md#what-should-i-do-when-the-registry-responds-with-unauthorized for help: Unauthorized for registry-1.docker.io/library/eclipse-temurin: 401 Unauthorized
                 [ERROR] GET https://auth.docker.io/token?service=registry.docker.io&scope=repository:library/eclipse-temurin:pull
                 [ERROR] {"details":"incorrect username or password"}
                 [ERROR] -> [Help 1]


Goto file:C:\Users\visha\.docker\config.json

it should have only this as content

{
	"auths": {}
}


To push image to docker.io to be used globally.

1. Either goto your local docker desktop & Unders Images tab > Click on 3 dots > Push to Hub, and that image will be pushed to docker hub.
OR
2. Using command: C:\Users\visha\IdeaProjects\MyTickets\eurekaserver>docker image push docker.io/vishalvdev/eurekaserver:s9

And you can verigy your repositories here : https://hub.docker.com/repositories/vishalvdev

-------------------------------------------------------------------------------------------------------------
Push Flight data also in ES
Push Passenger data also in ES
Push Reserve json data also in ES
Push Ratings also in ES

finally do analytics combining all 4 of above data.

Make Rating service with gRPC and possibally with Kotlin
Rating query:
 1. How many users write cheap flights from AMS to ABC
 2. .
 3. .
 4. .
 
 



ToDo: Later: https://www.vinsguru.com/vinoth-selvaraj/
https://github.com/vinsguru/grpc-java-course/tree/master/grpc-flix

https://tcsglobal.udemy.com/course/complete-java-reactive-programming/
https://github.com/vinsguru/spring-webflux-course


----------------------------

https://docs.docker.com/desktop/kubernetes/

https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/
kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml
kubectl proxy

http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/#/login


https://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/creating-sample-user.md

kubectl apply -f dashboard-adminuser.yaml
kubectl apply -f ClusterRoleBinding.yaml
kubectl -n kubernetes-dashboard create token admin-user

Note: once token is generated, make sure its in 1 line, use notepad++ to remove extra space if any


-------------------

https://chocolatey.org/install

https://community.chocolatey.org/packages/kubernetes-helm


-----------------------------
PS>helm> helm create airtravel-common
Creating airtravel-common

PS>helm> mkdir airtravel-services


    Directory: C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d-----         3/12/2024   9:42 PM                airtravel-services


PS>helm> cd .\airtravel-common\
PS>helm\airtravel-common>


PS>helm> cd .\airtravel-services\
PS>helm\airtravel-services> helm create flights
Creating flights
PS>helm\airtravel-services>

PS>helm\airtravel-services> cd .\flights\
PS>helm\airtravel-services\flights> helm dependencies build
Saving 1 charts
Deleting outdated charts
PS>helm\airtravel-services\flights>

PS>helm\airtravel-services\flights> cd ../../
PS>helm> mkdir environments

PS>helm> cd .\environments\
PS>helm\environments> helm create dev
Creating dev
PS>helm\environments>


PS>helm\airtravel-services\configserver> helm dependencies build
Saving 1 charts
Deleting outdated charts
PS>helm\airtravel-services\configserver>

PS>helm\airtravel-services\configserver> cd ..\eurekaserver\
PS>helm\airtravel-services\eurekaserver> helm dependencies build
Saving 1 charts
Deleting outdated charts
PS>helm\airtravel-services\eurekaserver> cd ..\reserve\
PS>helm\airtravel-services\reserve> helm dependencies build
Saving 1 charts
Deleting outdated charts
PS>helm\airtravel-services\reserve> cd ..\gatewayserver\
PS>helm\airtravel-services\gatewayserver> helm dependencies build
Saving 1 charts
Deleting outdated charts
PS>helm\airtravel-services\gatewayserver>


PS>helm\environments\dev> helm dependencies build
Saving 6 charts
Deleting outdated charts
PS>helm\environments\dev>



TO validate the k8s manifest file.
PS>helm\environments\dev> helm template .


PS C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm> cd .\kafka\
PS C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm\kafka> helm dependencies build
Saving 2 charts
Downloading zookeeper from repo oci://registry-1.docker.io/bitnamicharts
Pulled: registry-1.docker.io/bitnamicharts/zookeeper:12.11.1
Digest: sha256:9a47098d4c1f77b24d24b8b62d6c8c585dba0a086040f854b0d44e9606cd0804
Downloading common from repo oci://registry-1.docker.io/bitnamicharts
Pulled: registry-1.docker.io/bitnamicharts/common:2.18.0
Digest: sha256:ff6cda9929f8875e3f39bffbc19061821b7ea5ee5f895d65e042eb74266ea2ba
Deleting outdated charts
PS C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm\kafka> cd ..

PS C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm> helm install kafka kafka


PS C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm\elasticsearch> helm dependencies build
Saving 2 charts
Downloading kibana from repo oci://registry-1.docker.io/bitnamicharts
Pulled: registry-1.docker.io/bitnamicharts/kibana:10.11.3
Digest: sha256:8d51b1ae0ad26a0a2481eb8bb4f7652e16ab339fb845538b1f1faabbdd810196
Downloading common from repo oci://registry-1.docker.io/bitnamicharts
Pulled: registry-1.docker.io/bitnamicharts/common:2.18.0
Digest: sha256:ff6cda9929f8875e3f39bffbc19061821b7ea5ee5f895d65e042eb74266ea2ba
Deleting outdated charts
PS C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm\elasticsearch> cd ..
PS C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm> helm install elasticsearch elasticsearch
NAME: elasticsearch
LAST DEPLOYED: Thu Mar 14 18:48:21 2024






------------------------------------

POST cleanup

C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm>helm ls
NAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                   APP VERSION
elasticsearch   default         1               2024-03-14 18:48:21.2930416 +0100 CET   deployed        elasticsearch-19.21.2   8.12.2
kafka           default         1               2024-03-14 18:45:31.6313004 +0100 CET   deployed        kafka-27.1.1            3.7.0

C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm>

C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm>helm uninstall elasticsearch
release "elasticsearch" uninstalled

C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm>helm uninstall kafka
release "kafka" uninstalled

C:\Users\visha\IdeaProjects\MyTickets\docker-compose\miscellaneous\helm>


